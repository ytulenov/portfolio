"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_GlbViewer_jsx";
exports.ids = ["components_GlbViewer_jsx"];
exports.modules = {

/***/ "./components/GlbViewer.jsx":
/*!**********************************!*\
  !*** ./components/GlbViewer.jsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_DRACOLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader */ \"./node_modules/three/examples/jsm/loaders/DRACOLoader.js\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"@chakra-ui/react\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([three__WEBPACK_IMPORTED_MODULE_2__, _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__, three_examples_jsm_loaders_DRACOLoader__WEBPACK_IMPORTED_MODULE_5__, three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_6__]);\n([three__WEBPACK_IMPORTED_MODULE_2__, _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__, three_examples_jsm_loaders_DRACOLoader__WEBPACK_IMPORTED_MODULE_5__, three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// components/GlbViewer.jsx\n\n\n\n\n\n\n\n// Easing function for smooth animation\nfunction easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n}\nconst GlbViewer = ({ src, autoRotate = true, cameraPosition = [\n    0,\n    2,\n    5\n], cameraTarget = [\n    0,\n    0,\n    0\n], cameraFov = 5, lightIntensity = 1, backgroundColor = 0x000000, backgroundAlpha = 0, enableZoom = true, enablePan = true, animationDuration = 60 })=>{\n    const refContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const refRenderer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const refCamera = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const refControls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const refModel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const handleWindowResize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"GlbViewer.useCallback[handleWindowResize]\": ()=>{\n            const { current: renderer } = refRenderer;\n            const { current: container } = refContainer;\n            const { current: camera } = refCamera;\n            if (container && renderer && camera) {\n                const scW = container.clientWidth;\n                const scH = container.clientHeight;\n                renderer.setSize(scW, scH);\n                camera.aspect = scW / scH;\n                camera.updateProjectionMatrix();\n            }\n        }\n    }[\"GlbViewer.useCallback[handleWindowResize]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GlbViewer.useEffect\": ()=>{\n            const { current: container } = refContainer;\n            if (container) {\n                const scW = container.clientWidth;\n                const scH = container.clientHeight;\n                // Initialize Renderer\n                const renderer = new three__WEBPACK_IMPORTED_MODULE_2__.WebGLRenderer({\n                    antialias: true,\n                    alpha: true\n                });\n                renderer.setPixelRatio(window.devicePixelRatio);\n                renderer.setSize(scW, scH);\n                renderer.setClearColor(backgroundColor, backgroundAlpha);\n                renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_2__.ACESFilmicToneMapping;\n                renderer.toneMappingExposure = 1;\n                container.appendChild(renderer.domElement);\n                refRenderer.current = renderer;\n                // Initialize Scene\n                const scene = new three__WEBPACK_IMPORTED_MODULE_2__.Scene();\n                // Initialize Camera (Perspective Camera)\n                const camera = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(cameraFov, scW / scH, 0.1, 1000);\n                camera.position.set(cameraPosition[0], cameraPosition[1], cameraPosition[2]);\n                camera.lookAt(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(cameraTarget[0], cameraTarget[1], cameraTarget[2]));\n                refCamera.current = camera;\n                // Lighting (Balanced for both dark and light models)\n                const ambientLight = new three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight(0xffffff, lightIntensity * 0.8); // Soft ambient light\n                scene.add(ambientLight);\n                const hemiLight = new three__WEBPACK_IMPORTED_MODULE_2__.HemisphereLight(0xffffff, 0xaaaaaa, lightIntensity * 0.6); // Gentle gradient light\n                hemiLight.position.set(0, 5, 0);\n                scene.add(hemiLight);\n                const pointLight1 = new three__WEBPACK_IMPORTED_MODULE_2__.PointLight(0xffffff, lightIntensity * 0.6, 50);\n                pointLight1.position.set(5, 5, 5);\n                scene.add(pointLight1);\n                const pointLight2 = new three__WEBPACK_IMPORTED_MODULE_2__.PointLight(0xffffff, lightIntensity * 0.6, 50);\n                pointLight2.position.set(-5, 5, -5);\n                scene.add(pointLight2);\n                const directionalLight = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(0xffffff, lightIntensity * 0.4);\n                directionalLight.position.set(0, 5, 3);\n                scene.add(directionalLight);\n                // Orbit Controls\n                const controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_4__.OrbitControls(camera, renderer.domElement);\n                controls.target.set(cameraTarget[0], cameraTarget[1], cameraTarget[2]);\n                controls.autoRotate = autoRotate;\n                controls.autoRotateSpeed = 1.5; // Slower rotation speed for a smoother effect\n                controls.enableZoom = enableZoom;\n                controls.enablePan = enablePan;\n                controls.minDistance = 1;\n                controls.maxDistance = 20;\n                controls.update();\n                refControls.current = controls;\n                // Initialize DRACOLoader\n                const dracoLoader = new three_examples_jsm_loaders_DRACOLoader__WEBPACK_IMPORTED_MODULE_5__.DRACOLoader();\n                dracoLoader.setDecoderPath('https://www.gstatic.com/draco/versioned/decoders/1.5.7/');\n                dracoLoader.setDecoderConfig({\n                    type: 'js'\n                });\n                // Initialize GLTFLoader with DRACOLoader\n                const loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_6__.GLTFLoader();\n                loader.setDRACOLoader(dracoLoader);\n                // Load GLB Model\n                loader.load(src, {\n                    \"GlbViewer.useEffect\": (gltf)=>{\n                        const model = gltf.scene;\n                        refModel.current = model;\n                        // Center the model\n                        const box = new three__WEBPACK_IMPORTED_MODULE_2__.Box3().setFromObject(model);\n                        const center = box.getCenter(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\n                        model.position.sub(center); // Center the model at the origin\n                        // Scale the model to fit within a reasonable viewing area\n                        const size = box.getSize(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\n                        const maxDim = Math.max(size.x, size.y, size.z);\n                        const scale = 2 / maxDim; // Scale to fit within a 2-unit box\n                        model.scale.set(scale, scale, scale);\n                        // Adjust camera position based on model size\n                        const cameraDistance = Math.max(maxDim * 2, 3); // Ensure camera is close but not too close\n                        camera.position.set(0, maxDim * 0.5, cameraDistance);\n                        controls.minDistance = cameraDistance * 0.5;\n                        controls.maxDistance = cameraDistance * 2;\n                        scene.add(model);\n                        animate();\n                        setLoading(false);\n                    }\n                }[\"GlbViewer.useEffect\"], undefined, {\n                    \"GlbViewer.useEffect\": (error)=>{\n                        console.error('Error loading GLB model:', error);\n                        setLoading(false);\n                    }\n                }[\"GlbViewer.useEffect\"]);\n                let req = null;\n                let frame = 0;\n                const initialCameraPosition = camera.position.clone();\n                const circlingRadius = initialCameraPosition.distanceTo(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(cameraTarget[0], cameraTarget[1], cameraTarget[2]));\n                const animate = {\n                    \"GlbViewer.useEffect.animate\": ()=>{\n                        req = requestAnimationFrame(animate);\n                        frame += 1;\n                        if (frame <= animationDuration) {\n                            const t = easeInOutQuad(frame / animationDuration);\n                            camera.position.y = three__WEBPACK_IMPORTED_MODULE_2__.MathUtils.lerp(initialCameraPosition.y, initialCameraPosition.y * 0.8, t);\n                            camera.lookAt(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(cameraTarget[0], cameraTarget[1], cameraTarget[2]));\n                        } else {\n                            // Circling animation\n                            const angle = frame * 0.01; // Adjust speed of circling\n                            camera.position.x = cameraTarget[0] + circlingRadius * Math.cos(angle);\n                            camera.position.z = cameraTarget[2] + circlingRadius * Math.sin(angle);\n                            camera.lookAt(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(cameraTarget[0], cameraTarget[1], cameraTarget[2]));\n                            controls.update();\n                        }\n                        renderer.render(scene, camera);\n                    }\n                }[\"GlbViewer.useEffect.animate\"];\n                return ({\n                    \"GlbViewer.useEffect\": ()=>{\n                        cancelAnimationFrame(req);\n                        renderer.domElement.remove();\n                        renderer.dispose();\n                        refCamera.current = null;\n                        dracoLoader.dispose();\n                    }\n                })[\"GlbViewer.useEffect\"];\n            }\n        }\n    }[\"GlbViewer.useEffect\"], [\n        src,\n        cameraPosition,\n        cameraTarget,\n        cameraFov,\n        lightIntensity,\n        backgroundColor,\n        backgroundAlpha,\n        enableZoom,\n        enablePan,\n        animationDuration,\n        autoRotate\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GlbViewer.useEffect\": ()=>{\n            window.addEventListener('resize', handleWindowResize, false);\n            return ({\n                \"GlbViewer.useEffect\": ()=>{\n                    window.removeEventListener('resize', handleWindowResize, false);\n                }\n            })[\"GlbViewer.useEffect\"];\n        }\n    }[\"GlbViewer.useEffect\"], [\n        handleWindowResize\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.Box, {\n        ref: refContainer,\n        w: \"100%\",\n        h: [\n            '300px',\n            '400px',\n            '500px'\n        ],\n        position: \"relative\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderRadius: \"md\",\n        overflow: \"hidden\",\n        boxShadow: \"md\",\n        children: loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.Spinner, {\n            size: \"xl\",\n            position: \"absolute\",\n            left: \"50%\",\n            top: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n            color: \"blue.500\"\n        }, void 0, false, {\n            fileName: \"/Users/yerkintulenov/programming/web/portfolio/components/GlbViewer.jsx\",\n            lineNumber: 209,\n            columnNumber: 9\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/yerkintulenov/programming/web/portfolio/components/GlbViewer.jsx\",\n        lineNumber: 196,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GlbViewer);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBRUEsaUVBQWU3SCxTQUFTQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMveWVya2ludHVsZW5vdi9wcm9ncmFtbWluZy93ZWIvcG9ydGZvbGlvL2NvbXBvbmVudHMvR2xiVmlld2VyLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL0dsYlZpZXdlci5qc3hcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXInO1xuaW1wb3J0IHsgRFJBQ09Mb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9EUkFDT0xvYWRlcic7XG5pbXBvcnQgeyBCb3gsIFNwaW5uZXIgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcblxuLy8gRWFzaW5nIGZ1bmN0aW9uIGZvciBzbW9vdGggYW5pbWF0aW9uXG5mdW5jdGlvbiBlYXNlSW5PdXRRdWFkKHQpIHtcbiAgcmV0dXJuIHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdDtcbn1cblxuY29uc3QgR2xiVmlld2VyID0gKHtcbiAgc3JjLFxuICBhdXRvUm90YXRlID0gdHJ1ZSxcbiAgY2FtZXJhUG9zaXRpb24gPSBbMCwgMiwgNV0sIC8vIENsb3NlciBpbml0aWFsIGNhbWVyYSBwb3NpdGlvblxuICBjYW1lcmFUYXJnZXQgPSBbMCwgMCwgMF0sIC8vIERlZmF1bHQgbG9vay1hdCB0YXJnZXQgW3gsIHksIHpdXG4gIGNhbWVyYUZvdiA9IDUsIC8vIEZpZWxkIG9mIHZpZXcgZm9yIHBlcnNwZWN0aXZlIGNhbWVyYVxuICBsaWdodEludGVuc2l0eSA9IDEsIC8vIEludGVuc2l0eSBvZiBsaWdodHNcbiAgYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDAsIC8vIEJhY2tncm91bmQgY29sb3IgKGRlZmF1bHQ6IGJsYWNrKVxuICBiYWNrZ3JvdW5kQWxwaGEgPSAwLCAvLyBCYWNrZ3JvdW5kIHRyYW5zcGFyZW5jeSAoMCA9IHRyYW5zcGFyZW50KVxuICBlbmFibGVab29tID0gdHJ1ZSwgLy8gRW5hYmxlL2Rpc2FibGUgem9vbVxuICBlbmFibGVQYW4gPSB0cnVlLCAvLyBFbmFibGUvZGlzYWJsZSBwYW5uaW5nXG4gIGFuaW1hdGlvbkR1cmF0aW9uID0gNjAsIC8vIER1cmF0aW9uIG9mIGluaXRpYWwgYW5pbWF0aW9uIGluIGZyYW1lc1xufSkgPT4ge1xuICBjb25zdCByZWZDb250YWluZXIgPSB1c2VSZWYoKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IHJlZlJlbmRlcmVyID0gdXNlUmVmKCk7XG4gIGNvbnN0IHJlZkNhbWVyYSA9IHVzZVJlZigpO1xuICBjb25zdCByZWZDb250cm9scyA9IHVzZVJlZigpO1xuICBjb25zdCByZWZNb2RlbCA9IHVzZVJlZigpO1xuXG4gIGNvbnN0IGhhbmRsZVdpbmRvd1Jlc2l6ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IHJlbmRlcmVyIH0gPSByZWZSZW5kZXJlcjtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IGNvbnRhaW5lciB9ID0gcmVmQ29udGFpbmVyO1xuICAgIGNvbnN0IHsgY3VycmVudDogY2FtZXJhIH0gPSByZWZDYW1lcmE7XG4gICAgaWYgKGNvbnRhaW5lciAmJiByZW5kZXJlciAmJiBjYW1lcmEpIHtcbiAgICAgIGNvbnN0IHNjVyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgIGNvbnN0IHNjSCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG4gICAgICByZW5kZXJlci5zZXRTaXplKHNjVywgc2NIKTtcbiAgICAgIGNhbWVyYS5hc3BlY3QgPSBzY1cgLyBzY0g7XG4gICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50OiBjb250YWluZXIgfSA9IHJlZkNvbnRhaW5lcjtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBzY1cgPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgICBjb25zdCBzY0ggPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAvLyBJbml0aWFsaXplIFJlbmRlcmVyXG4gICAgICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICByZW5kZXJlci5zZXRTaXplKHNjVywgc2NIKTtcbiAgICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IoYmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgcmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICByZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMTtcblxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgICAgcmVmUmVuZGVyZXIuY3VycmVudCA9IHJlbmRlcmVyO1xuXG4gICAgICAvLyBJbml0aWFsaXplIFNjZW5lXG4gICAgICBjb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG4gICAgICAvLyBJbml0aWFsaXplIENhbWVyYSAoUGVyc3BlY3RpdmUgQ2FtZXJhKVxuICAgICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKGNhbWVyYUZvdiwgc2NXIC8gc2NILCAwLjEsIDEwMDApO1xuICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldChjYW1lcmFQb3NpdGlvblswXSwgY2FtZXJhUG9zaXRpb25bMV0sIGNhbWVyYVBvc2l0aW9uWzJdKTtcbiAgICAgIGNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoY2FtZXJhVGFyZ2V0WzBdLCBjYW1lcmFUYXJnZXRbMV0sIGNhbWVyYVRhcmdldFsyXSkpO1xuICAgICAgcmVmQ2FtZXJhLmN1cnJlbnQgPSBjYW1lcmE7XG5cbiAgICAgIC8vIExpZ2h0aW5nIChCYWxhbmNlZCBmb3IgYm90aCBkYXJrIGFuZCBsaWdodCBtb2RlbHMpXG4gICAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCBsaWdodEludGVuc2l0eSAqIDAuOCk7IC8vIFNvZnQgYW1iaWVudCBsaWdodFxuICAgICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XG5cbiAgICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhmZmZmZmYsIDB4YWFhYWFhLCBsaWdodEludGVuc2l0eSAqIDAuNik7IC8vIEdlbnRsZSBncmFkaWVudCBsaWdodFxuICAgICAgaGVtaUxpZ2h0LnBvc2l0aW9uLnNldCgwLCA1LCAwKTtcbiAgICAgIHNjZW5lLmFkZChoZW1pTGlnaHQpO1xuXG4gICAgICBjb25zdCBwb2ludExpZ2h0MSA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmLCBsaWdodEludGVuc2l0eSAqIDAuNiwgNTApO1xuICAgICAgcG9pbnRMaWdodDEucG9zaXRpb24uc2V0KDUsIDUsIDUpO1xuICAgICAgc2NlbmUuYWRkKHBvaW50TGlnaHQxKTtcblxuICAgICAgY29uc3QgcG9pbnRMaWdodDIgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZmZmZmZiwgbGlnaHRJbnRlbnNpdHkgKiAwLjYsIDUwKTtcbiAgICAgIHBvaW50TGlnaHQyLnBvc2l0aW9uLnNldCgtNSwgNSwgLTUpO1xuICAgICAgc2NlbmUuYWRkKHBvaW50TGlnaHQyKTtcblxuICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCBsaWdodEludGVuc2l0eSAqIDAuNCk7XG4gICAgICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldCgwLCA1LCAzKTtcbiAgICAgIHNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0KTtcblxuICAgICAgLy8gT3JiaXQgQ29udHJvbHNcbiAgICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXQoY2FtZXJhVGFyZ2V0WzBdLCBjYW1lcmFUYXJnZXRbMV0sIGNhbWVyYVRhcmdldFsyXSk7XG4gICAgICBjb250cm9scy5hdXRvUm90YXRlID0gYXV0b1JvdGF0ZTtcbiAgICAgIGNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IDEuNTsgLy8gU2xvd2VyIHJvdGF0aW9uIHNwZWVkIGZvciBhIHNtb290aGVyIGVmZmVjdFxuICAgICAgY29udHJvbHMuZW5hYmxlWm9vbSA9IGVuYWJsZVpvb207XG4gICAgICBjb250cm9scy5lbmFibGVQYW4gPSBlbmFibGVQYW47XG4gICAgICBjb250cm9scy5taW5EaXN0YW5jZSA9IDE7XG4gICAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IDIwO1xuICAgICAgY29udHJvbHMudXBkYXRlKCk7XG4gICAgICByZWZDb250cm9scy5jdXJyZW50ID0gY29udHJvbHM7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgRFJBQ09Mb2FkZXJcbiAgICAgIGNvbnN0IGRyYWNvTG9hZGVyID0gbmV3IERSQUNPTG9hZGVyKCk7XG4gICAgICBkcmFjb0xvYWRlci5zZXREZWNvZGVyUGF0aCgnaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZHJhY28vdmVyc2lvbmVkL2RlY29kZXJzLzEuNS43LycpO1xuICAgICAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlckNvbmZpZyh7IHR5cGU6ICdqcycgfSk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgR0xURkxvYWRlciB3aXRoIERSQUNPTG9hZGVyXG4gICAgICBjb25zdCBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgICAgbG9hZGVyLnNldERSQUNPTG9hZGVyKGRyYWNvTG9hZGVyKTtcblxuICAgICAgLy8gTG9hZCBHTEIgTW9kZWxcbiAgICAgIGxvYWRlci5sb2FkKFxuICAgICAgICBzcmMsXG4gICAgICAgIChnbHRmKSA9PiB7XG4gICAgICAgICAgY29uc3QgbW9kZWwgPSBnbHRmLnNjZW5lO1xuICAgICAgICAgIHJlZk1vZGVsLmN1cnJlbnQgPSBtb2RlbDtcblxuICAgICAgICAgIC8vIENlbnRlciB0aGUgbW9kZWxcbiAgICAgICAgICBjb25zdCBib3ggPSBuZXcgVEhSRUUuQm94MygpLnNldEZyb21PYmplY3QobW9kZWwpO1xuICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGJveC5nZXRDZW50ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSk7XG4gICAgICAgICAgbW9kZWwucG9zaXRpb24uc3ViKGNlbnRlcik7IC8vIENlbnRlciB0aGUgbW9kZWwgYXQgdGhlIG9yaWdpblxuXG4gICAgICAgICAgLy8gU2NhbGUgdGhlIG1vZGVsIHRvIGZpdCB3aXRoaW4gYSByZWFzb25hYmxlIHZpZXdpbmcgYXJlYVxuICAgICAgICAgIGNvbnN0IHNpemUgPSBib3guZ2V0U2l6ZShuZXcgVEhSRUUuVmVjdG9yMygpKTtcbiAgICAgICAgICBjb25zdCBtYXhEaW0gPSBNYXRoLm1heChzaXplLngsIHNpemUueSwgc2l6ZS56KTtcbiAgICAgICAgICBjb25zdCBzY2FsZSA9IDIgLyBtYXhEaW07IC8vIFNjYWxlIHRvIGZpdCB3aXRoaW4gYSAyLXVuaXQgYm94XG4gICAgICAgICAgbW9kZWwuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuXG4gICAgICAgICAgLy8gQWRqdXN0IGNhbWVyYSBwb3NpdGlvbiBiYXNlZCBvbiBtb2RlbCBzaXplXG4gICAgICAgICAgY29uc3QgY2FtZXJhRGlzdGFuY2UgPSBNYXRoLm1heChtYXhEaW0gKiAyLCAzKTsgLy8gRW5zdXJlIGNhbWVyYSBpcyBjbG9zZSBidXQgbm90IHRvbyBjbG9zZVxuICAgICAgICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgbWF4RGltICogMC41LCBjYW1lcmFEaXN0YW5jZSk7XG4gICAgICAgICAgY29udHJvbHMubWluRGlzdGFuY2UgPSBjYW1lcmFEaXN0YW5jZSAqIDAuNTtcbiAgICAgICAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IGNhbWVyYURpc3RhbmNlICogMjtcblxuICAgICAgICAgIHNjZW5lLmFkZChtb2RlbCk7XG4gICAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgR0xCIG1vZGVsOicsIGVycm9yKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgbGV0IHJlcSA9IG51bGw7XG4gICAgICBsZXQgZnJhbWUgPSAwO1xuICAgICAgY29uc3QgaW5pdGlhbENhbWVyYVBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICBjb25zdCBjaXJjbGluZ1JhZGl1cyA9IGluaXRpYWxDYW1lcmFQb3NpdGlvbi5kaXN0YW5jZVRvKG5ldyBUSFJFRS5WZWN0b3IzKGNhbWVyYVRhcmdldFswXSwgY2FtZXJhVGFyZ2V0WzFdLCBjYW1lcmFUYXJnZXRbMl0pKTtcblxuICAgICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgICAgcmVxID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuXG4gICAgICAgIGZyYW1lICs9IDE7XG5cbiAgICAgICAgaWYgKGZyYW1lIDw9IGFuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgY29uc3QgdCA9IGVhc2VJbk91dFF1YWQoZnJhbWUgLyBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnkgPSBUSFJFRS5NYXRoVXRpbHMubGVycChpbml0aWFsQ2FtZXJhUG9zaXRpb24ueSwgaW5pdGlhbENhbWVyYVBvc2l0aW9uLnkgKiAwLjgsIHQpO1xuICAgICAgICAgIGNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoY2FtZXJhVGFyZ2V0WzBdLCBjYW1lcmFUYXJnZXRbMV0sIGNhbWVyYVRhcmdldFsyXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENpcmNsaW5nIGFuaW1hdGlvblxuICAgICAgICAgIGNvbnN0IGFuZ2xlID0gZnJhbWUgKiAwLjAxOyAvLyBBZGp1c3Qgc3BlZWQgb2YgY2lyY2xpbmdcbiAgICAgICAgICBjYW1lcmEucG9zaXRpb24ueCA9IGNhbWVyYVRhcmdldFswXSArIGNpcmNsaW5nUmFkaXVzICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gY2FtZXJhVGFyZ2V0WzJdICsgY2lyY2xpbmdSYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMyhjYW1lcmFUYXJnZXRbMF0sIGNhbWVyYVRhcmdldFsxXSwgY2FtZXJhVGFyZ2V0WzJdKSk7XG4gICAgICAgICAgY29udHJvbHMudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXEpO1xuICAgICAgICByZW5kZXJlci5kb21FbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICByZW5kZXJlci5kaXNwb3NlKCk7XG4gICAgICAgIHJlZkNhbWVyYS5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgZHJhY29Mb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtzcmMsIGNhbWVyYVBvc2l0aW9uLCBjYW1lcmFUYXJnZXQsIGNhbWVyYUZvdiwgbGlnaHRJbnRlbnNpdHksIGJhY2tncm91bmRDb2xvciwgYmFja2dyb3VuZEFscGhhLCBlbmFibGVab29tLCBlbmFibGVQYW4sIGFuaW1hdGlvbkR1cmF0aW9uLCBhdXRvUm90YXRlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVXaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICB9O1xuICB9LCBbaGFuZGxlV2luZG93UmVzaXplXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94XG4gICAgICByZWY9e3JlZkNvbnRhaW5lcn1cbiAgICAgIHc9XCIxMDAlXCJcbiAgICAgIGg9e1snMzAwcHgnLCAnNDAwcHgnLCAnNTAwcHgnXX1cbiAgICAgIHBvc2l0aW9uPVwicmVsYXRpdmVcIlxuICAgICAgZGlzcGxheT1cImZsZXhcIlxuICAgICAganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIlxuICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICBib3JkZXJSYWRpdXM9XCJtZFwiXG4gICAgICBvdmVyZmxvdz1cImhpZGRlblwiXG4gICAgICBib3hTaGFkb3c9XCJtZFwiXG4gICAgPlxuICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICA8U3Bpbm5lclxuICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgcG9zaXRpb249XCJhYnNvbHV0ZVwiXG4gICAgICAgICAgbGVmdD1cIjUwJVwiXG4gICAgICAgICAgdG9wPVwiNTAlXCJcbiAgICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIlxuICAgICAgICAgIGNvbG9yPVwiYmx1ZS41MDBcIlxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L0JveD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdsYlZpZXdlcjsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIlRIUkVFIiwiT3JiaXRDb250cm9scyIsIkdMVEZMb2FkZXIiLCJEUkFDT0xvYWRlciIsIkJveCIsIlNwaW5uZXIiLCJlYXNlSW5PdXRRdWFkIiwidCIsIkdsYlZpZXdlciIsInNyYyIsImF1dG9Sb3RhdGUiLCJjYW1lcmFQb3NpdGlvbiIsImNhbWVyYVRhcmdldCIsImNhbWVyYUZvdiIsImxpZ2h0SW50ZW5zaXR5IiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZEFscGhhIiwiZW5hYmxlWm9vbSIsImVuYWJsZVBhbiIsImFuaW1hdGlvbkR1cmF0aW9uIiwicmVmQ29udGFpbmVyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJyZWZSZW5kZXJlciIsInJlZkNhbWVyYSIsInJlZkNvbnRyb2xzIiwicmVmTW9kZWwiLCJoYW5kbGVXaW5kb3dSZXNpemUiLCJjdXJyZW50IiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJjYW1lcmEiLCJzY1ciLCJjbGllbnRXaWR0aCIsInNjSCIsImNsaWVudEhlaWdodCIsInNldFNpemUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsImFscGhhIiwic2V0UGl4ZWxSYXRpbyIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJzZXRDbGVhckNvbG9yIiwidG9uZU1hcHBpbmciLCJBQ0VTRmlsbWljVG9uZU1hcHBpbmciLCJ0b25lTWFwcGluZ0V4cG9zdXJlIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50Iiwic2NlbmUiLCJTY2VuZSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwicG9zaXRpb24iLCJzZXQiLCJsb29rQXQiLCJWZWN0b3IzIiwiYW1iaWVudExpZ2h0IiwiQW1iaWVudExpZ2h0IiwiYWRkIiwiaGVtaUxpZ2h0IiwiSGVtaXNwaGVyZUxpZ2h0IiwicG9pbnRMaWdodDEiLCJQb2ludExpZ2h0IiwicG9pbnRMaWdodDIiLCJkaXJlY3Rpb25hbExpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImNvbnRyb2xzIiwidGFyZ2V0IiwiYXV0b1JvdGF0ZVNwZWVkIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsInVwZGF0ZSIsImRyYWNvTG9hZGVyIiwic2V0RGVjb2RlclBhdGgiLCJzZXREZWNvZGVyQ29uZmlnIiwidHlwZSIsImxvYWRlciIsInNldERSQUNPTG9hZGVyIiwibG9hZCIsImdsdGYiLCJtb2RlbCIsImJveCIsIkJveDMiLCJzZXRGcm9tT2JqZWN0IiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwic3ViIiwic2l6ZSIsImdldFNpemUiLCJtYXhEaW0iLCJNYXRoIiwibWF4IiwieCIsInkiLCJ6Iiwic2NhbGUiLCJjYW1lcmFEaXN0YW5jZSIsImFuaW1hdGUiLCJ1bmRlZmluZWQiLCJlcnJvciIsImNvbnNvbGUiLCJyZXEiLCJmcmFtZSIsImluaXRpYWxDYW1lcmFQb3NpdGlvbiIsImNsb25lIiwiY2lyY2xpbmdSYWRpdXMiLCJkaXN0YW5jZVRvIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiTWF0aFV0aWxzIiwibGVycCIsImFuZ2xlIiwiY29zIiwic2luIiwicmVuZGVyIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW1vdmUiLCJkaXNwb3NlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWYiLCJ3IiwiaCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsImJveFNoYWRvdyIsImxlZnQiLCJ0b3AiLCJ0cmFuc2Zvcm0iLCJjb2xvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/GlbViewer.jsx\n");

/***/ })

};
;